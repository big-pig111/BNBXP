# 🚀 新后端已配置完成！

## ✅ 已完成的更改

### 前端配置（已全部更新）

- ✅ **script.js** - 聊天室 Firebase 配置
- ✅ **snake.html** - 游戏 Firebase 配置  
- ✅ **admin.html** - 管理面板 Firebase 配置

**新项目信息：**
- 项目ID: `big-pig-38efe`
- 控制台: https://console.firebase.google.com/project/big-pig-38efe

---

## 🎯 快速开始（3 种方式）

### 方式 1：一键自动配置（推荐）⚡

双击运行：
```
一键配置新项目.bat
```

这个脚本会自动完成所有配置和部署！

---

### 方式 2：手动分步配置 📝

#### 步骤 1：切换项目
```powershell
firebase use big-pig-38efe
```

#### 步骤 2：配置环境变量
```powershell
firebase functions:config:set token.contract_address="0x83dfb0f9a8059b3dd274b3f4d68da93520fc4444"
firebase functions:config:set wallet.private_key="2159c1bcc01193026d313f98a11276f7ed2efe12fba8a0484272b922aaefd47d"
firebase functions:config:set bsc.use_testnet="false"
firebase functions:config:set bsc.rpc_url="https://bsc-dataseed1.binance.org/"
```

#### 步骤 3：安装并部署
```powershell
cd functions
npm install
cd ..
firebase deploy --only functions
```

---

### 方式 3：使用现有批处理文件 📄

```powershell
.\主网配置命令.bat
```

---

## ⚠️ 部署前必须完成

访问：https://console.firebase.google.com/project/big-pig-38efe

### 1. 启用 Firestore（聊天室）
- 左侧菜单 → Firestore Database
- 创建数据库 → 测试模式
- 服务器位置：`asia-southeast1`

### 2. 启用 Realtime Database（游戏）
- 左侧菜单 → Realtime Database
- 创建数据库 → 测试模式
- 服务器位置：`asia-southeast1`

### 3. 升级到 Blaze 方案（Cloud Functions）
- 左下角点击"升级"
- 选择 Blaze 按量付费
- 绑定支付方式

**💰 不用担心费用：** 有大量免费额度，基本不会产生费用

---

## 📊 部署后操作

### 1. 获取钱包地址
```powershell
node 获取主网钱包地址.js
```

### 2. 充值钱包
- 至少 0.1 BNB（Gas 费）
- 足够的代币（奖励发放）
- 在 BSCScan 查看：https://bscscan.com

### 3. 配置数据库规则

参考 `新项目配置指南.md` 第 3 步

### 4. 测试功能
- 打开 `index.html`
- 测试聊天室
- 测试游戏
- 测试代币兑换

---

## 📚 相关文档

| 文档 | 说明 |
|------|------|
| **🚀 立即开始.md** | 快速启动指南（当前文件） |
| **新项目配置指南.md** | 详细的配置步骤 |
| **后端配置已更新.md** | 更新内容总结 |
| **FIREBASE_DEPLOY_GUIDE.md** | Cloud Functions 部署指南 |
| **TESTING_GUIDE.md** | 功能测试指南 |

---

## 🆘 遇到问题？

### 403 错误 - 计费问题
→ 需要升级到 Blaze 方案

### 项目切换失败
→ 运行 `firebase login` 重新登录

### 部署失败
→ 检查是否已启用 Firestore 和 Realtime Database

### 其他问题
→ 查看 `新项目配置指南.md` 常见问题章节

---

## 📞 快速命令

```powershell
# 查看当前项目
firebase use

# 查看配置
firebase functions:config:get

# 查看日志
firebase functions:log

# 重新部署
firebase deploy --only functions

# 获取钱包地址
node 获取主网钱包地址.js
```

---

**现在就开始吧！** 🎉

推荐：双击运行 `一键配置新项目.bat` 开始自动配置！

